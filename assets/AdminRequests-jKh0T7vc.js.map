{"version":3,"file":"AdminRequests-jKh0T7vc.js","sources":["../../src/components/admin/AdminRequests.vue"],"sourcesContent":["<template>\n  <div class=\"requests-container\">\n    <h2 class=\"section-title\">Time Modification Requests</h2>\n    <div v-if=\"loading\">Loading requests...</div>\n    <div v-else-if=\"requests.length === 0\">No pending requests.</div>\n    <ul v-else class=\"requests-list\">\n      <li v-for=\"request in requests\" :key=\"request.$id\" class=\"request-item\">\n        <div class=\"request-header\">\n          <span class=\"request-user\">User: {{ request.user_Id }}</span>\n          <span class=\"request-date\">{{ new Date(request.request_date).toLocaleDateString() }}</span>\n        </div>\n        <div class=\"request-body\">\n          <p><strong>Type:</strong> {{ request.request_type }}</p>\n          <p><strong>Message:</strong> {{ request.request_message }}</p>\n        </div>\n        <button @click=\"acknowledgeRequest(request.$id)\" class=\"acknowledge-btn\">Acknowledge</button>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport { databases, Query } from '../../lib/appwrite';\n\nconst requests = ref([]);\nconst loading = ref(true);\n\nconst fetchRequests = async () => {\n  try {\n    const response = await databases.listDocuments(\n      '684639c3000fbbd515ea', // database ID\n      '68465b72001c6de6395f', // collection ID\n      [Query.orderDesc('$createdAt')]\n    );\n    requests.value = response.documents;\n  } catch (error) {\n    console.error('Failed to fetch requests:', error);\n  } finally {\n    loading.value = false;\n  }\n};\n\nconst acknowledgeRequest = async (requestId) => {\n  try {\n    // Logic to acknowledge the request and move it to history\n    requests.value = requests.value.filter(request => request.$id !== requestId);\n    alert('Request acknowledged and moved to history.');\n  } catch (error) {\n    console.error('Failed to acknowledge request:', error);\n    alert('Failed to acknowledge request. Please try again.');\n  }\n};\n\nonMounted(fetchRequests);\n</script>\n\n<style scoped>\n.requests-container {\n  background: rgba(45, 55, 72, 0.8);\n  padding: 24px;\n  border-radius: 16px;\n}\n.section-title {\n  font-size: 1.8rem;\n  font-weight: bold;\n  margin-bottom: 24px;\n  color: #ffc107;\n}\n.acknowledge-btn {\n  background: #ffc107;\n  color: #1a202c;\n  border: none;\n  padding: 8px 16px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: bold;\n  margin-top: 8px;\n}\n\n.requests-list {\n  list-style: none;\n  padding: 0;\n}\n.request-item {\n  background: #2d3748;\n  padding: 16px;\n  border-radius: 8px;\n  margin-bottom: 16px;\n}\n.request-header {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 8px;\n  font-size: 0.9rem;\n  color: #a0aec0;\n}\n.request-body p {\n  margin: 0;\n}\n</style>"],"names":["requests","ref","loading","fetchRequests","response","databases","Query","error","acknowledgeRequest","requestId","request","onMounted"],"mappings":"saAyBA,MAAMA,EAAWC,EAAI,EAAE,EACjBC,EAAUD,EAAI,EAAI,EAElBE,EAAgB,SAAY,CAChC,GAAI,CACF,MAAMC,EAAW,MAAMC,EAAU,cAC/B,uBACA,uBACA,CAACC,EAAM,UAAU,YAAY,CAAC,CAC/B,EACDN,EAAS,MAAQI,EAAS,SAC3B,OAAQG,EAAO,CACd,QAAQ,MAAM,4BAA6BA,CAAK,CACpD,QAAY,CACRL,EAAQ,MAAQ,EACpB,CACA,EAEMM,EAAqB,MAAOC,GAAc,CAC9C,GAAI,CAEFT,EAAS,MAAQA,EAAS,MAAM,OAAOU,GAAWA,EAAQ,MAAQD,CAAS,EAC3E,MAAM,4CAA4C,CACnD,OAAQF,EAAO,CACd,QAAQ,MAAM,iCAAkCA,CAAK,EACrD,MAAM,kDAAkD,CAC5D,CACA,EAEA,OAAAI,EAAUR,CAAa"}