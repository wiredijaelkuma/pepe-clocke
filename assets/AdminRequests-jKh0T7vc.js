import{_ as p,d as g}from"./index-C3ZWiLvT.js";import{Q as m}from"./appwrite-DjGSp9AC.js";import{d as c,e as q,a,b as s,F as f,i as y,o as n,t as l,h as i}from"./vendor-_e7UF12I.js";const v={class:"requests-container"},k={key:0},h={key:1},b={key:2,class:"requests-list"},w={class:"request-header"},R={class:"request-user"},D={class:"request-date"},F={class:"request-body"},$=["onClick"],x={__name:"AdminRequests",setup(A){const r=c([]),d=c(!0),u=async()=>{try{const t=await g.listDocuments("684639c3000fbbd515ea","68465b72001c6de6395f",[m.orderDesc("$createdAt")]);r.value=t.documents}catch(t){console.error("Failed to fetch requests:",t)}finally{d.value=!1}},_=async t=>{try{r.value=r.value.filter(e=>e.$id!==t),alert("Request acknowledged and moved to history.")}catch(e){console.error("Failed to acknowledge request:",e),alert("Failed to acknowledge request. Please try again.")}};return q(u),(t,e)=>(n(),a("div",v,[e[2]||(e[2]=s("h2",{class:"section-title"},"Time Modification Requests",-1)),d.value?(n(),a("div",k,"Loading requests...")):r.value.length===0?(n(),a("div",h,"No pending requests.")):(n(),a("ul",b,[(n(!0),a(f,null,y(r.value,o=>(n(),a("li",{key:o.$id,class:"request-item"},[s("div",w,[s("span",R,"User: "+l(o.user_Id),1),s("span",D,l(new Date(o.request_date).toLocaleDateString()),1)]),s("div",F,[s("p",null,[e[0]||(e[0]=s("strong",null,"Type:",-1)),i(" "+l(o.request_type),1)]),s("p",null,[e[1]||(e[1]=s("strong",null,"Message:",-1)),i(" "+l(o.request_message),1)])]),s("button",{onClick:B=>_(o.$id),class:"acknowledge-btn"},"Acknowledge",8,$)]))),128))]))]))}},T=p(x,[["__scopeId","data-v-0d0c9ef5"]]);export{T as default};
//# sourceMappingURL=AdminRequests-jKh0T7vc.js.map
